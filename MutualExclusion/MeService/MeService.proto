syntax = "proto3";

option go_package = "./";

package MeService;

service MeService {
  rpc Join (JoinMessage) returns (JoinMessage);
  rpc Leave(JoinMessage) returns (JoinMessage);
  rpc RequestEntry (Request) returns (Response);
  rpc ReleaseEntry (Release) returns (Empty);
}

message Request {
  int64 timestamp = 1;
  string nodeId = 2;
}

message Response {
  bool permission = 1;
  int64 timestamp = 2;
  string nodeId = 3;
}

message Release {
  int64 timestamp = 1;
  string nodeId = 2;
}
message JoinMessage {
  string address = 1;
  int64 port = 2;
}

message Empty {}
